<Window x:Class="ProjetFinale.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Fitness Tracker" 
        Height="800" 
        Width="1280" 
        Background="Transparent"
        WindowStyle="None"
        AllowsTransparency="True"
        ResizeMode="CanResize">

    <!-- Grid principal -->
    <Grid>
        <!-- Bordure principale de la fenêtre -->
        <Border Style="{StaticResource MainWindowBorderStyle}">

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="35"/>
                    <!-- Barre de titre -->
                    <RowDefinition Height="*"/>
                    <!-- Contenu -->
                </Grid.RowDefinitions>

                <!-- Barre de titre personnalisée -->
                <Border Grid.Row="0" 
                        Style="{StaticResource TitleBarStyle}"
                        MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Titre de l'application -->
                        <StackPanel Grid.Column="0" 
                                    Style="{StaticResource TitleStackPanelStyle}">

                            <!-- Icône app -->
                            <Border Style="{StaticResource AppIconBorderStyle}">
                                <TextBlock Style="{StaticResource AppIconTextStyle}"/>
                            </Border>

                            <!-- Titre -->
                            <TextBlock Text="Fitness Tracker"
                                       Style="{StaticResource AppTitleTextStyle}"/>
                        </StackPanel>

                        <!-- Boutons de contrôle -->
                        <StackPanel Grid.Column="1" 
                                    Orientation="Horizontal">

                            <!-- Bouton Minimiser -->
                            <Button Style="{StaticResource WindowControlButtonStyle}"
                                    Click="MinimizeButton_Click"
                                    ToolTip="Réduire">
                                <TextBlock Style="{StaticResource MinimizeIconStyle}"/>
                            </Button>

                            <!-- Bouton Maximiser/Restaurer -->
                            <Button x:Name="MaximizeRestoreButton"
                                    Style="{StaticResource WindowControlButtonStyle}"
                                    Click="MaximizeRestoreButton_Click"
                                    ToolTip="Agrandir">
                                <TextBlock x:Name="MaximizeRestoreIcon" Style="{StaticResource MaximizeIconStyle}"/>
                            </Button>

                            <!-- Bouton Fermer -->
                            <Button Style="{StaticResource CloseButtonStyle}"
                                    Click="CloseButton_Click"
                                    ToolTip="Fermer">
                                <TextBlock Style="{StaticResource CloseIconStyle}"/>
                            </Button>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Contenu principal -->
                <Grid Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="250" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <!-- SIDEBAR avec icônes minimalistes -->
                    <StackPanel Style="{StaticResource SidebarMainStyle}" Grid.Column="0">

                        <!-- Boutons principaux -->
                        <StackPanel Style="{StaticResource SidebarMainButtonsStyle}">

                            <!-- ACCOUNT -->
                            <Button Click="AccueilButton_Click" Style="{StaticResource SidebarButtonStyle}">
                                <StackPanel Style="{StaticResource SidebarButtonContentStyle}">
                                    <!-- Icône Account minimaliste -->
                                    <Canvas Style="{StaticResource SidebarIconCanvasStyle}">
                                        <!-- Tête -->
                                        <Ellipse Style="{StaticResource AccountIconHeadStyle}"/>
                                        <!-- Corps -->
                                        <Path Style="{StaticResource AccountIconBodyStyle}"/>
                                    </Canvas>
                                    <TextBlock Text="ACCOUNT" Style="{StaticResource SidebarButtonTextStyle}"/>
                                </StackPanel>
                            </Button>

                            <!-- SCHEDULE -->
                            <Button Click="ScheduleButton_Click" Style="{StaticResource SidebarButtonStyle}">
                                <StackPanel Style="{StaticResource SidebarButtonContentStyle}">
                                    <!-- Icône Calendar minimaliste -->
                                    <Canvas Style="{StaticResource SidebarIconCanvasStyle}">
                                        <!-- Calendrier -->
                                        <Rectangle Style="{StaticResource CalendarMainRectStyle}"/>
                                        <!-- Ligne du haut -->
                                        <Line Style="{StaticResource CalendarTopLineStyle}"/>
                                        <!-- Anneaux du haut -->
                                        <Rectangle Style="{StaticResource CalendarRing1Style}"/>
                                        <Rectangle Style="{StaticResource CalendarRing2Style}"/>
                                        <!-- Points de dates -->
                                        <Ellipse Style="{StaticResource CalendarDot1Style}"/>
                                        <Ellipse Style="{StaticResource CalendarDot2Style}"/>
                                        <Ellipse Style="{StaticResource CalendarDot3Style}"/>
                                    </Canvas>
                                    <TextBlock Text="SCHEDULE" Style="{StaticResource SidebarButtonTextStyle}"/>
                                </StackPanel>
                            </Button>

                            <!-- TASK -->
                            <Button Click="ObjectifsButton_Click" Style="{StaticResource SidebarButtonStyle}">
                                <StackPanel Style="{StaticResource SidebarButtonContentStyle}">
                                    <!-- Icône Task minimaliste -->
                                    <Canvas Style="{StaticResource SidebarIconCanvasStyle}">
                                        <!-- Liste -->
                                        <Rectangle Style="{StaticResource TaskListRectStyle}"/>
                                        <!-- Lignes de tâches -->
                                        <Line Style="{StaticResource TaskLine1Style}"/>
                                        <Line Style="{StaticResource TaskLine2Style}"/>
                                        <Line Style="{StaticResource TaskLine3Style}"/>
                                        <!-- Check mark -->
                                        <Path Style="{StaticResource TaskCheckStyle}"/>
                                    </Canvas>
                                    <TextBlock Text="TASK" Style="{StaticResource SidebarButtonTextStyle}"/>
                                </StackPanel>
                            </Button>

                            <!-- EXERCICES -->
                            <Button Click="ExercicesButton_Click" Style="{StaticResource SidebarButtonStyle}">
                                <StackPanel Style="{StaticResource SidebarButtonContentStyle}">
                                    <!-- Icône Exercices minimaliste -->
                                    <Canvas Style="{StaticResource SidebarIconCanvasStyle}">
                                        <!-- Haltère -->
                                        <Rectangle Style="{StaticResource DumbbellEnd1Style}"/>
                                        <Rectangle Style="{StaticResource DumbbellEnd2Style}"/>
                                        <Rectangle Style="{StaticResource DumbbellBarStyle}"/>
                                        <!-- Poids -->
                                        <Rectangle Style="{StaticResource DumbbellWeight1Style}"/>
                                        <Rectangle Style="{StaticResource DumbbellWeight2Style}"/>
                                    </Canvas>
                                    <TextBlock Text="EXERCICES" Style="{StaticResource SidebarButtonTextStyle}"/>
                                </StackPanel>
                            </Button>
                        </StackPanel>

                        <!-- Séparation + boutons secondaires -->
                        <StackPanel Style="{StaticResource SidebarSecondaryButtonsStyle}">

                            <!-- SETTINGS -->
                            <Button Click="SettingsButton_Click" Style="{StaticResource SidebarButtonStyle}">
                                <StackPanel Style="{StaticResource SidebarButtonContentStyle}">
                                    <!-- Icône Settings minimaliste -->
                                    <Canvas Style="{StaticResource SidebarIconCanvasStyle}">
                                        <!-- Roue dentée -->
                                        <Path Style="{StaticResource SettingsGearStyle}"/>
                                        <!-- Centre -->
                                        <Ellipse Style="{StaticResource SettingsCenterStyle}"/>
                                    </Canvas>
                                    <TextBlock Text="SETTINGS" Style="{StaticResource SidebarButtonTextStyle}"/>
                                </StackPanel>
                            </Button>

                            <Button Click="ImportButton_Click" Style="{StaticResource SidebarButtonStyle}">
                                <StackPanel Style="{StaticResource SidebarButtonContentStyle}">
                                    <!-- Icône Import minimaliste -->
                                    <Canvas Style="{StaticResource SidebarIconCanvasStyle}">
                                        <!-- Boîte -->
                                        <Rectangle Style="{StaticResource ImportBoxStyle}"/>
                                        <!-- Flèche vers le bas -->
                                        <Line Style="{StaticResource ImportArrowLineStyle}"/>
                                        <Path Style="{StaticResource ImportArrowHeadStyle}"/>
                                    </Canvas>
                                    <TextBlock Text="IMPORT" Style="{StaticResource SidebarButtonTextStyle}"/>
                                </StackPanel>
                            </Button>

                            <!-- EXPORT -->
                            <Button Click="ExportsButton_Click" Style="{StaticResource SidebarButtonStyle}">
                                <StackPanel Style="{StaticResource SidebarButtonContentStyle}">
                                    <!-- Icône Export minimaliste -->
                                    <Canvas Style="{StaticResource SidebarIconCanvasStyle}">
                                        <!-- Boîte -->
                                        <Rectangle Style="{StaticResource ExportBoxStyle}"/>
                                        <!-- Flèche vers le haut -->
                                        <Line Style="{StaticResource ExportArrowLineStyle}"/>
                                        <Path Style="{StaticResource ExportArrowHeadStyle}"/>
                                    </Canvas>
                                    <TextBlock Text="EXPORT" Style="{StaticResource SidebarButtonTextStyle}"/>
                                </StackPanel>
                            </Button>
                        </StackPanel>

                        <!-- Bouton logout -->
                        <Button Click="Logout_Click" Style="{StaticResource LogoutButtonStyle}">
                            <!-- Icône Logout minimaliste -->
                            <Canvas Style="{StaticResource LogoutIconCanvasStyle}">
                                <!-- Porte -->
                                <Rectangle Style="{StaticResource LogoutDoorStyle}"/>
                                <!-- Flèche sortie -->
                                <Line Style="{StaticResource LogoutArrowLineStyle}"/>
                                <Path Style="{StaticResource LogoutArrowHeadStyle}"/>
                                <!-- Poignée -->
                                <Ellipse Style="{StaticResource LogoutDoorHandleStyle}"/>
                            </Canvas>
                        </Button>
                    </StackPanel>

                    <!-- Frame pour toutes les pages -->
                    <Frame x:Name="ContentFrame"
                           Grid.Column="1"
                           NavigationUIVisibility="Hidden"
                           Margin="0,0,10,10"/>

                </Grid>
            </Grid>
        </Border>
    </Grid>
</Window>