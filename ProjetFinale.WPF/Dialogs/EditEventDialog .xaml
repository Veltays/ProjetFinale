<Window x:Class="ProjetFinale.WPF.Pages.EditEventDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Modifier l'Événement"
        Height="650"
        Width="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#1A1A1A">

    <Grid Margin="30">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0"
                   Text="✏️ Modifier l'Événement"
                   Foreground="White"
                   FontFamily="Kameron"
                   FontSize="24"
                   FontWeight="Bold"
                   HorizontalAlignment="Center"
                   Margin="0,0,0,30"/>

        <!-- Formulaire -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>

                <!-- Titre -->
                <TextBlock Text="Titre *" Style="{StaticResource LabelStyle}"/>
                <TextBox x:Name="TitreTextBox"
                         Style="{StaticResource ModernTextBox}"
                         Margin="0,0,0,20"/>

                <!-- Date et heures -->
                <Grid Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="10"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="10"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Date -->
                    <StackPanel Grid.Column="0">
                        <TextBlock Text="Date *" Style="{StaticResource LabelStyle}"/>
                        <DatePicker x:Name="DatePicker"
                                    Style="{StaticResource ModernDatePicker}"/>
                    </StackPanel>

                    <!-- Heure début -->
                    <StackPanel Grid.Column="2">
                        <TextBlock Text="Heure début *" Style="{StaticResource LabelStyle}"/>
                        <TextBox x:Name="HeureDebutTextBox"
                                 Style="{StaticResource ModernTextBox}"
                                 Text="09:00"/>
                    </StackPanel>

                    <!-- Heure fin -->
                    <StackPanel Grid.Column="4">
                        <TextBlock Text="Heure fin *" Style="{StaticResource LabelStyle}"/>
                        <TextBox x:Name="HeureFinTextBox"
                                 Style="{StaticResource ModernTextBox}"
                                 Text="10:00"/>
                    </StackPanel>
                </Grid>

                <!-- Couleur -->
                <TextBlock Text="Couleur" Style="{StaticResource LabelStyle}"/>
                <WrapPanel x:Name="ColorPanel" Margin="0,0,0,20">
                    <Button x:Name="Color1" Background="#8B5CF6" Style="{StaticResource ColorButton}" Tag="#8B5CF6" Click="ColorButton_Click"/>
                    <Button x:Name="Color2" Background="#3B82F6" Style="{StaticResource ColorButton}" Tag="#3B82F6" Click="ColorButton_Click"/>
                    <Button x:Name="Color3" Background="#F472B6" Style="{StaticResource ColorButton}" Tag="#F472B6" Click="ColorButton_Click"/>
                    <Button x:Name="Color4" Background="#22C55E" Style="{StaticResource ColorButton}" Tag="#22C55E" Click="ColorButton_Click"/>
                    <Button x:Name="Color5" Background="#EF4444" Style="{StaticResource ColorButton}" Tag="#EF4444" Click="ColorButton_Click"/>
                    <Button x:Name="Color6" Background="#F59E0B" Style="{StaticResource ColorButton}" Tag="#F59E0B" Click="ColorButton_Click"/>
                    <Button x:Name="Color7" Background="#6366F1" Style="{StaticResource ColorButton}" Tag="#6366F1" Click="ColorButton_Click"/>
                    <Button x:Name="Color8" Background="#84CC16" Style="{StaticResource ColorButton}" Tag="#84CC16" Click="ColorButton_Click"/>
                </WrapPanel>

                <!-- Activité liée -->
                <TextBlock Text="Lier à une activité (optionnel)" Style="{StaticResource LabelStyle}"/>
                <ComboBox x:Name="ActiviteComboBox"
                          Style="{StaticResource ModernComboBox}"
                          DisplayMemberPath="Titre"
                          Margin="0,0,0,20"/>

                <!-- Description -->
                <TextBlock Text="Description" Style="{StaticResource LabelStyle}"/>
                <TextBox x:Name="DescriptionTextBox"
                         Style="{StaticResource ModernTextBox}"
                         Height="80"
                         TextWrapping="Wrap"
                         AcceptsReturn="True"
                         VerticalScrollBarVisibility="Auto"
                         Margin="0,0,0,20"/>

                <!-- Suggestion d'objectif -->
                <Border Background="#2E2E2E" CornerRadius="5" Padding="15" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="💡 Suggestion"
                                   Foreground="#D393FF"
                                   FontFamily="Kameron"
                                   FontSize="14"
                                   FontWeight="Bold"
                                   Margin="0,0,0,10"/>
                        <CheckBox x:Name="LierObjectifCheckBox"
                                  Content="Lier cet événement à un objectif existant"/>
                        <ComboBox x:Name="ObjectifComboBox"
                                  Style="{StaticResource ModernComboBox}"
                                  DisplayMemberPath="Description"
                                  Margin="0,10,0,0"
                                  Visibility="Collapsed"
                                  Height="35"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- Boutons -->
        <Grid Grid.Row="2" Margin="0,20,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Button Grid.Column="0"
                    Content="🗑️ Supprimer"
                    Background="{StaticResource RedGradient}"
                    Foreground="White"
                    FontFamily="Kameron"
                    FontSize="12"
                    Height="45"
                    BorderThickness="0"
                    Click="Delete_Click"/>

            <Button Grid.Column="2"
                    Content="❌ Annuler"
                    Background="#4A4A4A"
                    Foreground="White"
                    FontFamily="Kameron"
                    FontSize="12"
                    Height="45"
                    BorderThickness="0"
                    Click="Cancel_Click"/>

            <Button Grid.Column="4"
                    Content="✅ Sauvegarder"
                    Background="{StaticResource PurpleGradient}"
                    Foreground="White"
                    FontFamily="Kameron"
                    FontSize="12"
                    Height="45"
                    BorderThickness="0"
                    Click="Save_Click"/>
        </Grid>
    </Grid>
</Window>